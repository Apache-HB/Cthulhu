<!DOCTYPE HTML>
<html lang="en">
    <head>
        <title>Cthulhu</title>
        <!-- website theming -->
        <link rel="stylesheet" href="style.css" media="all">
        <!-- nice font -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css">
    </head> 

    <body>
        <div class="wrapper">
            <div class="header">
                <div>Cthulhu</div>
                <img src="https://www.pinclipart.com/picdir/big/111-1118481_cthulhu-png-transparent-cute-cthulhu-clipart.png" alt="logo"/>
            </div>

            <ul>
                <li>Writing freestanding code should be easy</li>
                <li>Interacting with platform details should be easy</li>
                <li>Spend more time reading specifications than writing implementations</li>
            </ul>
        </div>

        <div class="specification">
            <h1>Working Draft, Standard for Programming Language Cthulhu</h1>
            
            <h2>
                table of contents
                <ol class="content">
                    <li><a href="#scope">scope</a></li>
                    <li><a href="#references">references</a></li>
                    <li><a href="#terms">terms and definitions</a></li>
                    <li><a href="#basic">basics</a></li>
                    <li><a href="#types">types</a></li>
                </lo>
            </h2>

            <ol>
                <li>
                    <h2 class="section" id="scope">
                        scope
                        <div class="term">[scope]</div>
                    </h2>
                    <ol>
                        <li>this document specifies requirements for implementations of the cthulhu programming language.</li>
                    </ol>
                </li>

                <li>
                    <h2 class="section" id="references">
                        references
                        <div class="term">[references]</div>
                    </h2>
                    <ol>
                        <li>
                            <a href="https://bford.info/pub/lang/peg.pdf" target="_blank">Bryan. Parsing Expression Grammars: A Recognition-Based Syntactic Foundation.</a><div id="references-grammar" class="term">[references.grammar]</div>
                        </li>
                        <li>
                            <a href="https://home.cs.colorado.edu/~bec/courses/csci5535/reading/cardelli-typesystems.pdf" target="_blank">Cardelli, Luca. Type Systems</a><div id="references-proof" class="term">[references.proof]</div>
                        </li>
                    </ol>
                </li>

                <li>
                    <h2 class="section" id="terms">
                        terms and definitions
                        <div class="term">[terms]</div>
                    </h2>
                    <ol>
                        <li>
                            <h3>undefined behavior<div class="term">[terms.undefined]</div></h3>
                            behavior for which this document imposes no requirements.
                        
                            <h3>unspecified behavior<div class="term">[terms.unspecified]</div></h3>
                            behavior, for a well-formed program construct and correct data, that depends on implementation.
                            
                            <h3>abstract machine<div class="term">[terms.abstract]</div></h3>
                            the semantic descriptions in this document define a parameterized nondeterministic abstract machine.
                            this document places no requirement on the structure of conforming implementations.
                            in particular, then need not copy or emulate the structure of the abstract machine.
                            rather, conforming implementations are required to emulate only the observable behavior of the abstract machine as described in <a href="#terms-observable">[terms.observable]</a>

                            <h3>observable behavior<div id="terms-observable" class="term">[terms.observable]</div></h3>
                            TODO

                            <h3>well-formed program<div class="term">[terms.formed]</div></h3>
                            cthulhu program constructed according to the syntax rules, and diagnosable semantic rules.
                        </li>
                    </ol>
                </li>

                <li>
                    <h2 class="section" id="basic">
                        basics
                        <div class="term">[basic]</div>
                    </h2>

                    <ol>
                        <li>
                            <h3>implementation compliance<div class="term">[basic.compliance]</div></h3>
                            TODO
                        </li>
                        
                        <li>
                            <h3>syntax notation<div class="term">[basic.syntax]</div></h3>
                            the syntax notation used in this document is described in <a href="#references-grammar">[references.grammar]</a>
                        </li>

                        <li>
                            <h3>proof notation<div class="term">[basic.proof]</div></h3>
                            this proof notation used in this document is described in <a href="#references-proof">[references.proof]</a>
                        </li>

                        <li>
                            <h3>comments<div class="term">[basic.comment]</div></h3>
                            TODO: comment syntax
                        </li>
                        
                        <li>
                            <h3>grammar<div class="term">[basic.grammar]</div></h3>
                            <div class="grammar">omitted until stable</div>
                        </li>
                    </ol>
                </li>

                <li>
                    <h2 class="section" id="types">
                        types
                        <div class="term">[types]</div>
                    </h2>

                    <ol>
                        <li>
                            <h3>scalar types<div class="term">[types.scalar]</div></h3>
                            <ol>
                                <li>
                                    there are four standard signed scalar types. `char`, `short`, `int`, and `long`.
                                </li>
                                <li>
                                    there are four standard unsigned scalar types. `uchar`, `ushort`, `uint`, and `ulong`.
                                </li>
                                <li>
                                    each signed scalar type can represent at least the inclusive range of -2^(N-1) to 2^(N-1)-1.
                                    each unsigned scalar type can represent at least the inclusive range of 0 to 2^(N).
                                    N is the width of the type
                                    <table style="margin: 0px auto;">
                                        <tr>
                                            <th>Type</th>
                                            <th>Width (in bits)</th>
                                        </tr>
                                        <tr>
                                            <td>char & uchar</td>
                                            <td>8</td>
                                        </tr>
                                        <tr>
                                            <td>short & ushort</td>
                                            <td>16</td>
                                        </tr>
                                        <tr>
                                            <td>int & uint</td>
                                            <td>32</td>
                                        </tr>
                                        <tr>
                                            <td>long & ulong</td>
                                            <td>64</td>
                                        </tr>
                                    </table>
                                </li>
                                <li>
                                    scalar overflow and underflow is undefined
                                </li>
                            </ol>
                        </li>
                        <li>
                            <h3>boolean type<div class="term">[types.boolean]</div></h3>
                            <ol>
                                <li>
                                    the `bool` type has a size of at least 1 bit and valid values of `true` and `false`.
                                </li>
                                <li>
                                    all scalar types are convertable to `bool` and convert to `false` when equal to 0, all other values evaluate to `true`
                                </li>
                            </ol>
                        </li>
                        <li>
                            <h3>void type<div class="term">[types.void]</div></h3>
                            the `void` type has no size and is not convertable from or to any type
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
    </body>
</html>
